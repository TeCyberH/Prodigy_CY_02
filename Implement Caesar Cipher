def caesar_cipher(text, shift):
    """
    Applies the Caesar Cipher algorithm to the given text.

    :param text: The string to encrypt or decrypt.
    :param shift: The integer value by which to shift each letter.
                  Positive for encryption, negative for decryption.
    :return: The resulting string after applying the Caesar Cipher.
    """
    result = []
    for char in text:
        # Handle uppercase letters
        if char.isupper():
            result.append(chr((ord(char) - 65 + shift) % 26 + 65))
        # Handle lowercase letters
        elif char.islower():
            result.append(chr((ord(char) - 97 + shift) % 26 + 97))
        # Non-alphabetic characters remain unchanged
        else:
            result.append(char)
    return ''.join(result)


if __name__ == "__main__":
    # User input
    text = input("Enter your message: ")
    shift = int(input("Enter the shift value (1-25): "))
    mode = input("Enter mode (encrypt/decrypt): ").lower()

    # Determine operation based on mode
    if mode == 'encrypt':
        result = caesar_cipher(text, shift)
        print("Encrypted text:", result)
    elif mode == 'decrypt':
        result = caesar_cipher(text, -shift)
        print("Decrypted text:", result)
    else:
        print("Invalid mode. Please enter 'encrypt' or 'decrypt'.")
